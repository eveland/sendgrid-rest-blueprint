tosca_definitions_version: cloudify_dsl_1_3

###################################################
# Requires secrets or should be provided via inputs
#
# SG_Token
# admin_name
# admin_email


inputs:
  SG_Token:
    type: string
    default: {get_secret : SG_Token}
  name:
    type: string
    default: {get_secret: admin_name}

  email:
    type: string
    default: {get_secret: admin_email}

  template_id: 
    default: { get_secret: template_id }

imports:
  - http://www.getcloudify.org/spec/cloudify/6.3.1/types.yaml
  - components/SendGrid/types.yaml
  - plugin:cloudify-utilities-plugin

node_templates:
  email_notification:
    type: sendgrid.email.Send
    properties:
      SG_Token: { get_input: SG_Token }
      name: { get_input: name }
      email: { get_input: email }
